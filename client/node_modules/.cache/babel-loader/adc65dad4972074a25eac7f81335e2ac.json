{"ast":null,"code":"// import React, { useEffect, useRef, useState } from 'react'\n// import \"./chat.css\"\n// import LogoSearch from \"../../components/LogoSearch/LogoSearch\"\n// import { useDispatch, useSelector } from \"react-redux\";\n// import { userChats } from '../../api/ChatRequesst';\n// import Conversation from '../../components/Conversation/Conversation';\n// import NavIcons from '../../components/NavIcons/NavIcons';\n// import ChatBox from '../../components/ChatBox/ChatBox';\n// import {io} from \"socket.io-client\"\n// const Chat = () => {\n\n//     // const dispatch = useDispatch();\n//     const socket = useRef();\n//     const { user } = useSelector((state) => state.authReducer.authData);\n//     const [chats, setChats] = useState([]);\n//     const [onlineUsers, setOnlineUsers] = useState([]);\n//     const [currentChat, setCurrentChat] = useState(null);\n//     const [sendMessage, setSendMessage] = useState(null);\n//     const [receivedMessage, setReceivedMessage] = useState(null);\n\n//     useEffect(()=>{\n//         socket.current = io(\"http://localhost/8800\")\n//         socket.current.emit('new-user-add',user._id)\n//         socket.current.on(\"get-users\",(users)=>{\n//             setOnlineUsers(users)\n//         })\n//     },[user])\n\n//     useEffect(() => {\n//         const getChats = async () => {\n//           try {\n//             const { data } = await userChats(user._id);\n//             setChats(data);\n//             console.log(data);\n//           } catch (error) {\n//             console.log(error);\n//           }\n//         };\n//         getChats();\n//       }, [user._id]);\n\n//     return (\n//         <div className=\"Chat\">\n//             {/* Left Side */}\n//             <div className=\"Left-side-chat\">\n//                 <LogoSearch />\n//                 <div className=\"Chat-container\">\n//                     <h2>Chats</h2>\n//                     <div className=\"Chat-list\">\n//                         {chats.map((chat) => (\n//                             <div\n//                                 onClick={() => {\n//                                     setCurrentChat(chat);\n//                                 }}\n//                             >\n\n//                                 <Conversation\n//                                     data={chat}\n//                                     currentUser={user._id}\n//                                     // online={checkOnlineStatus(chat)}\n//                                 />\n//                             </div>\n//                         ))}\n//                     </div>\n//                 </div>\n//             </div>\n\n//             {/* Right Side */}\n\n//             <div className=\"Right-side-chat\">\n//                 <div style={{ width: \"20rem\", alignSelf: \"flex-end\" }}>\n//                     <NavIcons />\n//                 </div>\n//                 {/* chat body */}\n//                 <ChatBox\n//                     chat={currentChat}\n//                     currentUser={user._id}\n//                     setSendMessage={setSendMessage}\n//                     receivedMessage={receivedMessage}\n//                 />\n//             </div>\n//         </div>\n//     )\n// }\n\n// export default Chat","map":{"version":3,"names":[],"sources":["D:/git projects/SocialMedia/client/src/pages/chat/chat.jsx"],"sourcesContent":["// import React, { useEffect, useRef, useState } from 'react'\r\n// import \"./chat.css\"\r\n// import LogoSearch from \"../../components/LogoSearch/LogoSearch\"\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\n// import { userChats } from '../../api/ChatRequesst';\r\n// import Conversation from '../../components/Conversation/Conversation';\r\n// import NavIcons from '../../components/NavIcons/NavIcons';\r\n// import ChatBox from '../../components/ChatBox/ChatBox';\r\n// import {io} from \"socket.io-client\"\r\n// const Chat = () => {\r\n\r\n//     // const dispatch = useDispatch();\r\n//     const socket = useRef();\r\n//     const { user } = useSelector((state) => state.authReducer.authData);\r\n//     const [chats, setChats] = useState([]);\r\n//     const [onlineUsers, setOnlineUsers] = useState([]);\r\n//     const [currentChat, setCurrentChat] = useState(null);\r\n//     const [sendMessage, setSendMessage] = useState(null);\r\n//     const [receivedMessage, setReceivedMessage] = useState(null);\r\n\r\n\r\n//     useEffect(()=>{\r\n//         socket.current = io(\"http://localhost/8800\")\r\n//         socket.current.emit('new-user-add',user._id)\r\n//         socket.current.on(\"get-users\",(users)=>{\r\n//             setOnlineUsers(users)\r\n//         })\r\n//     },[user])\r\n\r\n//     useEffect(() => {\r\n//         const getChats = async () => {\r\n//           try {\r\n//             const { data } = await userChats(user._id);\r\n//             setChats(data);\r\n//             console.log(data);\r\n//           } catch (error) {\r\n//             console.log(error);\r\n//           }\r\n//         };\r\n//         getChats();\r\n//       }, [user._id]);\r\n\r\n\r\n//     return (\r\n//         <div className=\"Chat\">\r\n//             {/* Left Side */}\r\n//             <div className=\"Left-side-chat\">\r\n//                 <LogoSearch />\r\n//                 <div className=\"Chat-container\">\r\n//                     <h2>Chats</h2>\r\n//                     <div className=\"Chat-list\">\r\n//                         {chats.map((chat) => (\r\n//                             <div\r\n//                                 onClick={() => {\r\n//                                     setCurrentChat(chat);\r\n//                                 }}\r\n//                             >\r\n                                \r\n//                                 <Conversation\r\n//                                     data={chat}\r\n//                                     currentUser={user._id}\r\n//                                     // online={checkOnlineStatus(chat)}\r\n//                                 />\r\n//                             </div>\r\n//                         ))}\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n\r\n//             {/* Right Side */}\r\n\r\n//             <div className=\"Right-side-chat\">\r\n//                 <div style={{ width: \"20rem\", alignSelf: \"flex-end\" }}>\r\n//                     <NavIcons />\r\n//                 </div>\r\n//                 {/* chat body */}\r\n//                 <ChatBox\r\n//                     chat={currentChat}\r\n//                     currentUser={user._id}\r\n//                     setSendMessage={setSendMessage}\r\n//                     receivedMessage={receivedMessage}\r\n//                 />\r\n//             </div>\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n// export default Chat\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module"}